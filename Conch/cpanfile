requires 'perl', '5.26.0';


# basics
requires 'Data::UUID';
requires 'Data::Printer';
requires 'DateTime::Format::Strptime';
requires 'List::Compare';
requires 'Data::Validate::UUID';
requires 'Mail::Sendmail';
requires 'aliased';
requires 'Try::Tiny';
requires 'Class::StrongSingleton';
requires 'Time::HiRes';

# mojolicious
requires 'Mojolicious';
requires 'Mojo::Pg';
requires 'Mojo::JSON_XS';
requires 'Mojo::Server::PSGI';
requires 'Mojolicious::Plugin::Bcrypt';
requires 'Mojolicious::Plugin::Util::RandomString';
requires 'Mojolicious::Plugin::NYTProf';

### Legacy Deps
#

# DBIC::Class::Schema::Loader requires String::CamelCase 0.02. Problem
# is that 0.02 is broken under perl 5.26 because @INC no longer
# includes '.' for security reasons. Unfortunately, there's a syntax
# error in the META.yml file for 0.03 which means tools don't know that
# the 0.03 tarball actually contains 0.03. It reads as a version of
# undef. If we specifically require it, carton will install 0.03 because
# we aren't specifying a version. Usually, the installation will Just
# Work. However, sometimes 'carton install --deployment' decides to try
# to install Schema::Loader before doing this install, which causes
# carton to grab 0.02 since Schema::Loader specifies a version. That
# install fails. Typically, running 'carton install --deployment' or
# 'make run' a second time will get a correct install. 
requires 'String::CamelCase';

# database
requires 'DBD::Pg';
requires 'DBIx::Class';
requires 'DBIx::Class::Schema::Loader';
requires 'Config::General';
requires 'DBIx::Class::TimeStamp';

# moose
requires 'Moose';
requires 'MooseX::Constructor::AllErrors';
requires 'MooseX::Types::UUID';
requires 'MooseX::Storage';
requires 'MooseX::MarkAsMethods';
requires 'MooseX::NonMoose';

# logging
requires 'Log::Any';
requires 'Log::Any::Adapter::Log4perl';
requires 'Log::Any::Adapter::Screen';
requires 'Log::Log4perl';
requires 'Log::Log4perl::Layout::JSON';
requires 'Log::Report';


on 'test' => sub {
    requires 'Test::More';
    requires 'Mock::Quick';
    requires 'Test::PostgreSQL';
    requires 'Test::Pod::Coverage';
    requires 'IO::All';
    requires 'JSON::Validator';
    requires 'YAML::XS';
};
